<!DOCTYPE html>
<html>
  <head>
    <title>Example 13 with CSP</title>
    <script type="text/javascript" src="03_external.js"></script>
    <!-- on peut voir que cela ne bloque pas le chargement des feuilles de styles -->
    <!-- link rel="stylesheet" href="https://developer.mozilla.org/static/css/main.7e56c9ea.css" -->

    <!-- 
      Ce header est ajouté via le serveur web
      Header always set Content-Security-Policy "sandbox;" -->
    <!--
      L'utilisation de la balise meta n'est pas possible pour la sandbox
      <meta http-equiv="Content-Security-Policy" content="sandbox;">
    -->
    <!-- pour que la sandbox soit activée, la page doit être accédée via un serveur web : 
          http://localhost/02_example13%20with%20csp.html
    -->

    <!-- 
      Il existe de nombreuses exceptions pour activer les fonctionnalitées verrouillées :
      allow-downloads

          Allows for downloads after the user clicks a button or link.
      allow-downloads-without-user-activation Experimental

          Allows for downloads to occur without a gesture from the user.
      allow-forms

          Allows the page to submit forms. If this keyword is not used, this operation is not allowed.
      allow-modals

          Allows the page to open modal windows.
      allow-orientation-lock

          Allows the page to disable the ability to lock the screen orientation.
      allow-pointer-lock

          Allows the page to use the Pointer Lock API.
      allow-popups

          Allows popups (like from window.open, target="_blank", showModalDialog). If this keyword is not used, that functionality will silently fail.
      allow-popups-to-escape-sandbox

          Allows a sandboxed document to open new windows without forcing the sandboxing flags upon them. This will allow, for example, a third-party advertisement to be safely sandboxed without forcing the same restrictions upon the page the ad links to.
      allow-presentation

          Allows embedders to have control over whether an iframe can start a presentation session.
      allow-same-origin

          Allows the content to be treated as being from its normal origin. If this keyword is not used, the embedded content is treated as being from a unique origin.
      allow-scripts

          Allows the page to run scripts (but not create pop-up windows). If this keyword is not used, this operation is not allowed.
      allow-storage-access-by-user-activation Experimental

          Lets the resource request access to the parent's storage capabilities with the Storage Access API.
      allow-top-navigation

          Allows the page to navigate (load) content to the top-level browsing context. If this keyword is not used, this operation is not allowed.
      allow-top-navigation-by-user-activation

          Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.
      allow-top-navigation-to-custom-protocols

          Allows navigations toward non-fetch schemes to be handed off to external software.
    -->
  </head>
  <body>
    <a href="http://www.google.fr">lien vers google</a> (fonctionnalité non verrouillée)<br/>
    Effectue un téléchargement : <a href="test.zip">test.zip</a> (fonctionnalité verrouillée)<br/><br/>
    On voit que le formulaire n'est pas envoyé :<br/>
    <form method="GET" action="test.cgi"> (fonctionnalité verrouillée)
      <input type="text" name="my_text" />
      <input type="submit" />
    </form>
    <br/>
    <button onclick="msg()">Try it</button>(fonctionnalité verrouillée)
  </body>
</html>